---
   layout: default
   title: 华为交换机命令
   tags: Linux
---

# {{ page.title }}
{{ page.date | date: "%Y-%m-%d"  }}

## 使用telnet修改用户权限
1. telnet 进去。
2. 输入sys回车
3. 输入aaa回车
4. 输入下面两行
  - 把admin用户设置为允许使用telnet访问，允许通过web访问，允许通过http访问
    >local-user admin service-type terminal web http 
  - 把admin用户权限提升至15级
    >local-user admin prilivge level 15
 

## 进入到某个光口或电口的命令
1. sys回车
2. interface GigabitEthernet 0/0/2 -- 进入电口
3. interface xGigabitEthernet 0/0/2 -- 进入光口

## 设置某个口为trunk
1. 先进到光口或电口。
2. port link-type trunk
3. port trunk allow-pass vlan 1 2 3 4 --- 这条是允许网络数据通过vlan1,vlan2,vlan3,vlan4
 
## 使用consloe口配置
1. 将主机的串口通过配置电缆与以太网交换机的Console口连接。
2. 在主机上运行终端仿真程序（如Windows的超级终端等），设置终端通信参数为：波特率为9600bit/s、8位数据位、1位停止位、无校验和无流控，并选择终端类型为VT100。
3. 以太网交换机上电，终端上显示以太网交换机自检信息，自检结束后提示用户键入回车，之后将出现命令行提示符。
 
# 下面是完整的一大段示例
## VLAN配置方法『配置环境参数』
  SwitchA端口E0/1属于VLAN2，E0/2属于VLAN3『组网需求』
  把交换机端口E0/1加入到VLAN2，E0/2加入到VLAN3数据配置步骤
- 『VLAN配置流程』
  - 缺省情况下所有端口都属于VLAN1，并且端口是access端口，一个access端口只能属于一个vlan；
  - 如果端口是access端口，则把端口加入到另外一个vlan的同时，系统自动把该端口从原来的vlan中删除掉；
  - 除了VLAN1，如果VLANXX不存在，在系统视图下键入VLANXX，则创建VLANXX并进入VLAN视图；如果VLANXX已经存在，则进入VLAN视图。
-【SwitchA相关配置】
  1. 创建（进入）vlan2
     [SwitchA]vlan2    
  2. 将端口E0/1加入到vlan2
      [SwitchA-vlan2]portethernet0/1
  3. 创建（进入）vlan3
      [SwitchA-vlan2]vlan3
  4. 将端口E0/2加入到vlan3
     [SwitchA-vlan3]portethernet0/2
- 测试验证
1. 使用命令dispcur可以看到端口E0/1属于vlan2，E0/2属于vlan3；
2. 使用displayinterfaceEthernet0/1可以看到端口为access端口，PVID为2；
3. 使用displayinterfaceEthernet0/2可以看到端口为access端口，PVID为3
